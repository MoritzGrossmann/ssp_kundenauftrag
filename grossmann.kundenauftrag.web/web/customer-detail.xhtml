<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">


    <f:metadata>
        <f:viewParam id="id" name="id" value="#{customerDetailBean.id}" required="true" requiredMessage="customerId is required"/>
    </f:metadata>

    <h:body>
        <ui:composition template="shared/_layout.xhtml">
            <ui:define name="content">
                <p:toolbar style="margin-bottom: 10px">
                    <p:toolbarGroup align="left">
                        <p:outputLabel value="${customerDetailBean.customer.name}" />
                    </p:toolbarGroup>
                </p:toolbar>

                    <p:panelGrid columns="2" cellpadding="30" style="margin-bottom: 10px" styleClass="ui-noborder">
                        <p:panelGrid columns="2" cellpadding="5" styleClass="ui-noborder">
                            <p:outputLabel value="Street:" />
                            <h:outputText value="#{customerDetailBean.customer.street}" style="font-weight: bold"/>

                            <p:outputLabel value="HouseNumber:" />
                            <h:outputText value="#{customerDetailBean.customer.houseNumber}" style="font-weight: bold"/>

                            <p:outputLabel value="Postcode:" />
                            <h:outputText value="#{customerDetailBean.customer.postcode}" style="font-weight: bold"/>

                            <p:outputLabel value="City:" />
                            <h:outputText value="#{customerDetailBean.customer.city}" style="font-weight: bold"/>

                            <p:outputLabel value="Country:" />
                            <h:outputText value="#{customerDetailBean.customer.country}" style="font-weight: bold"/>
                        </p:panelGrid>
                        <p:panelGrid columns="2" cellpadding="5" styleClass="ui-noborder">

                            <p:outputLabel value="E-Mail:" />
                            <h:outputText value="#{customerDetailBean.customer.email}" style="font-weight: bold"/>

                            <p:outputLabel value="Telefon Private:" />
                            <h:outputText value="#{customerDetailBean.customer.telefonPrivate}" style="font-weight: bold"/>

                            <p:outputLabel value="Telefon Mobile:" />
                            <h:outputText value="#{customerDetailBean.customer.telefonMobile}" style="font-weight: bold"/>

                            <p:outputLabel value="Fax:" />
                            <h:outputText value="#{customerDetailBean.customer.fax}" style="font-weight: bold"/>

                            <p:outputLabel value="Number of Orders:" />
                            <h:outputText value="#{customerDetailBean.customer.orders.size()}" style="font-weight: bold"/>
                        </p:panelGrid>
                    </p:panelGrid>

                <p:dataTable var="order" value="#{customerDetailBean.customer.orders}">
                    <f:facet name="header">
                        Orders
                    </f:facet>
                    <p:column headerText="Id">
                        <h:outputText value="#{order.id}" />
                    </p:column>

                    <p:column headerText="DateTime">
                        <h:outputText value="#{order.dateTime}" />
                    </p:column>

                    <p:column>
                        <h:link value="Show" outcome="order-detail">
                            <f:param name="id" value="#{order.id}"/>
                        </h:link>
                    </p:column>
                </p:dataTable>


                <p:panelGrid columns="2" cellPadding="5" styleClass="ui-noborder">
                    <p:link outcome="customer-create" value="edit">
                        <f:param name="id" value="#{customerDetailBean.id}" />
                    </p:link>

                    <p:button outcome="order-create" value="Add Order">
                        <f:param value="#{customerDetailBean.id}" name="customer_id"/>
                    </p:button>
                </p:panelGrid>

            </ui:define>
        </ui:composition>
    </h:body>
</html>
